!!! XML
%sign{:name=>@sign.name,
      :title=>@sign.title,
      :width=>@sign.width,
      :height=>@sign.height,
      :video=>to_yn(@sign.video),
      :last_check_in=>@sign.last_check_in.try(:to_s, :rfc822),
      :lastupdate=>DateTime.now.to_s(:rfc822)}
  %slides
    -@sign.slides.each do |slide|
      -if !slide.expired? && slide.published
        %slide{:id=>slide.id,
               :title=>slide.title,
               :uri=>slide.uri,
               :content_type=>slide.type,
               :delay=>slide.delay,
               :color=>'#'+slide.color,
               :published=>to_yn(slide.published),
               :lastupdate=>(slide.updated_at || slide.created_at).to_s(:rfc822)}
          %schedules
            -if !slide.previous_schedule.nil?
              %schedule{:time=>slide.previous_schedule.time.to_s(:rfc822), :action=>slide.previous_schedule.action}
            -if !slide.next_schedule.nil?
              %schedule{:time=>slide.next_schedule.time.to_s(:rfc822), :action=>slide.next_schedule.action}
